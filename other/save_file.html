<button class="file-saver">File saver</button>

<script>
const fileSaver$ = document.querySelector('.file-saver')

// настройки
const options = {
  // рекомендуемое название файла
    suggestedName: 'test.json',
    types: [
        {
        description: 'Text',
        accept: {
            'text/plain': '.json'
        }
        }
    ],
    excludeAcceptAllOption: true
}

// данные для записи
const fileData = 'Bye World Once Again'

fileSaver$.addEventListener('click', async () => {
  const fileHandle = await window.showSaveFilePicker(options)
  const writableStream = await fileHandle.createWritable()
 
  await writableStream.write(fileData)
  // данный метод не упоминается в черновике спецификации,
  // хотя там говорится о необходимости закрытия потока
  // для успешной записи файла
  await writableStream.close()
})
</script>